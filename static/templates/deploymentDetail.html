

<div class="row">
  <h2 class="sub-header col-md-4" data-bind="text: appName"></h2>
  <div class="col-md-offset-6 col-md-2">
    <button data-bind="click: launch" class="btn btn-primary">Launch Deployment</button>
  </div>
</div>

<div class="row">
  <strong class="col-md-2">Image: </strong>
  <span class="col-md-2" data-bind="text: imageTag"></span>
</div>
<div class="row">
  <strong class="col-md-2">Environment: </strong>
  <span class="col-md-2" data-bind="text: environment"></span>
</div>
<div class="row">
  <strong class="col-md-2">Status Endpoint: </strong>
  <span class="col-md-2" data-bind="editable: statusEndpoint, editableOptions: {url: updateDeployment}"></span>
</div>
<div class="row">
  <strong class="col-md-2">Status Port: </strong>
  <span class="col-md-2" data-bind="editable: statusPort, editableOptions: {url: updateDeployment}"></span>
</div>

<p>
<strong>Mapped Ports: </strong>
<form data-bind="submit: addMappedPort">
    <input data-bind='value: mappedPortToAdd, valueUpdate: "afterkeydown"' />
    <button type="submit" data-bind="enable: mappedPortToAdd().length > 0">Add</button>
</form>


  <ul class="list-group" data-bind="foreach: mappedPorts">
    <li class="list-group-item" data-bind="text: $data"></li>
    <a href="#" data-bind="click: $parent.removeMappedPort">Remove</a>
  </ul>
</p> 
<p>
  <strong>Mapped Volumes: </strong>
    <form data-bind="submit: addMappedVolume">
        <input data-bind='value: mappedVolumeToAdd, valueUpdate: "afterkeydown"' />
        <button type="submit" data-bind="enable: mappedVolumeToAdd().length > 0">Add</button>
    </form>


  <ul class="list-group" data-bind="foreach: mappedVolumes">
    <li class="list-group-item" data-bind="text: $data"></li>
      <a href="#" data-bind="click: $parent.removeMappedVolume ">Remove</a>
  </ul>
</p>

<p>
  <strong>Environment Variables: </strong>
   <form data-bind="submit: addEnvVar">
        <input data-bind='value: envVarToAdd, valueUpdate: "afterkeydown"' />
        <button type="submit" data-bind="enable: envVarToAdd().length > 0">Add</button>
    </form> 

<p>
  <ul class="list-group" data-bind="foreach: envVarList">
    <li class="list-group-item" data-bind="text: name+'='+value"></li>
    <a href="#" data-bind="click: $parent.removeEnvVar ">Remove</a>
  </ul>
</p>

<p>
  <strong>Configured Hosts: </strong>
  <ul class="list-group" data-bind="foreach: hosts">
    <li class="list-group-item"><a data-bind="attr: {href: '#hosts/'+hostname}, text: alias"></a></li>
  </ul>
</p>

<select class="js-example-data-array"></select>

<!--<p data-bind="visible: links().length"> -->
<p>
  <strong>Linked Apps: </strong>
    <form data-bind="submit: addLinks">
        <input data-bind='value: linkToAdd, valueUpdate: "afterkeydown"' />
        <button type="submit" data-bind="enable: linkToAdd().length > 0">Add</button>
    </form>

  <ul data-bind="foreach: links">
    <li data-bind="text: $data"></li>
    <a href="#" data-bind="click: $parent.removeLink">Remove</a>
  </ul>
</p>

<!--<p data-bind="visible: volumes().length"> -->
<p>
  <strong>Linked Volumes: </strong>
    <form data-bind="submit: addVolumes">
      <input data-bind='value: volumeToAdd, valueUpdate: "afterkeydown"' />
      <button type="submit" data-bind="enable: volumeToAdd().length > 0">Add</button>
    </form>

  <ul data-bind="foreach: volumes">
    <li data-bind="text: $data"></li>
    <a href="#" data-bind="click: $parent.removeVolume">Remove</a>
  </ul>
</p>

<div class="table-responsive">
  <h4 class="sub-header">Containers</h4>
  <table id="deployment-containers" class="table table-striped">
    <thead>
      <tr>
        <th>Container</th>
        <th>Host</th>
        <th>Command</th>
        <th>App Status</th>
        <th>Container State</th>
      </tr>
    </thead>
    <tbody data-bind="foreach: containers">
      <tr>
        <td><samp data-bind="text: id"></samp></td>
        <td data-bind="text: host"></td>
        <td><samp data-bind="text: command"></samp></td>
        <td><h5 data-bind="text: status, css: {'text-success': status() === 'up', 'text-danger': status() === 'down'}"></h5></td>
        <td><h5 data-bind="text: state, css: {'text-success': state() === 'running'}"></h5></td>
      </tr>
    </tbody>
  </table>
</div>

<div class="row">
  <br>
  <div class="col-md-2">
    <button data-bind="click: deleteDeployment" class="btn btn-danger">Delete Deployment</button>
  </div>
  <div class="col-md-2">
    <button data-bind="click: function(data, event) {updateDeployment($root, data, event)}" class="btn btn-primary">Update Deployment</button>
  </div>  
</div>
